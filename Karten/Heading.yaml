type: custom:button-card
entity: sensor.mein_dashboard_datum
show_icon: false
name: |
  [[[
    // Originaldatum abrufen
    const originalDateStr = states['sensor.geburtstag_home_assistant'].attributes.next_date;

    // Originaldatum in ein JavaScript-Datum konvertieren
    const originalDate = new Date(originalDateStr);

    // Neues Datumsformat erstellen (TT.MM.JJJJ)
    const newDateFormat = `${originalDate.getDate().toString().padStart(2, '0')}.${(originalDate.getMonth() + 1).toString().padStart(2, '0')}.${originalDate.getFullYear()}`;

    // Anzahl der Jahre seit dem Geburtstag abrufen
    const yearsAtAnniversary = states['sensor.geburtstag_home_assistant'].attributes.years_at_anniversary;

    // Noch verbleibende Tage abrufen
    const remainingDays = states['sensor.geburtstag_home_assistant'].state;

    // Text für die verbleibenden Tage erstellen
    const remainingDaysText1 = remainingDays <= 5 ? 'Nur noch' : 'Noch';

    // Text für die verbleibenden Tage erstellen
    const remainingDaysText2 = remainingDays === 1 ? 'Tag' : 'Tage';

    // Ergebnis zurückgeben
    return `<div style='display: flex;display: -webkit-flex;'>
                <span style='color: var(--primary-color);'>
                  Der Geburtstag von ${states['sensor.geburtstag_home_assistant'].attributes.friendly_name}&nbsp ist am ${newDateFormat}
                  und es wird ${yearsAtAnniversary}&nbsp Jahre alt. 
                  ${remainingDaysText1} ${remainingDays}&nbsp ${remainingDaysText2} warten!
                </span>
            </div>`;
  ]]]
tap_action:
  action: call-service
  service: input_boolean.toggle
  service_data:
    entity_id: input_boolean.youtube_vollbild
styles:
  name:
    - font-size: 2.2em
    - font-family: Technology
  card:
    - background: transparent
    - border: none
    - margin: '-2.6em 0em -3em 0em'